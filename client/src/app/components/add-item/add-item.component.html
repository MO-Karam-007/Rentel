

<div class="container mx-auto p-4">
    <!-- Page Title -->
    <h1 class="text-3xl font-bold text-[black] mb-6">Create Item</h1>

    <form class="grid grid-cols-1 gap-6" [formGroup]="createItemForm"
        (ngSubmit)="onSubmit()">

        <div formGroupName="userInfo">
            <h3>Item Informations</h3>
            <div class="p-2">
                <input type="text"
                    id="title"
                    name="title"
                    placeholder="ITEM TITLE"
                    class="block w-full rounded-md border-gray-300 shadow-sm focus:border-black focus:ring-black focus:ring-opacity-50 p-2"
                    formControlName="title"
                    style="background-color: #f6f6f6;">
            </div>

            <!-- Category -->
            <div class="p-2">
                <select id="category" name="category"
                    class="block w-full rounded-md border-gray-300 shadow-sm focus:border-black focus:ring-black focus:ring-opacity-50 p-2"
                    style="background-color: #f6f6f6;"
                    formControlName="category">
                    <option value>Select a category</option>
                    @for (item of categories; track $index) {
                    <option>{{item}}</option>

                    }
                </select>
            </div>

            <!-- Description -->
            <div class="p-2">
                <textarea
                    formControlName="description"
                    placeholder="Description"
                    class="block w-full rounded-md border-gray-300 shadow-sm focus:border-black focus:ring-black focus:ring-opacity-50 p-2"
                    style="background-color: #f6f6f6;"></textarea>
            </div>

            <!-- Image Upload -->
            <div>

                <div class="text-center">
                    <div class="mb-2">
                        <input
                            id="item_image"
                            formControlName="item_image"
                            type="file" FileIn
                            (change)="handleFileInput($event, 'item_image')"
                            class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400">
                    </div>
                </div>
            </div>

            <!-- Start Date and End Date -->
            <div class="p-2 grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Start Date -->
                <div class="flex items-center bg-[#f6f6f6] rounded-md p-2">
                    <span
                        class="flex-shrink-0 flex items-center mr-3 text-gray-500">
                        <i class="fa-regular fa-calendar"></i>
                        <span class="ml-2">Start Date</span>
                    </span>
                    <input type="datetime-local"
                        [min]="min" #start id="start-date" name="start-date"
                        class="block w-full rounded-md border-gray-300 shadow-sm focus:border-black focus:ring-black focus:ring-opacity-50 p-2"
                        style="background-color: #f6f6f6;">
                </div>

                <!-- End Date -->
                <div class="flex items-center bg-[#f6f6f6] rounded-md p-2">
                    <span
                        class="flex-shrink-0 flex items-center mr-3 text-gray-500">
                        <i class="fa-regular fa-calendar"></i>
                        <span class="ml-2">End Date</span>
                    </span>
                    <input type="datetime-local"
                        id="end-date"
                        name="end-date"
                        [min]="start.value"
                        [disabled]="!start.value"
                        class="disabled:cursor-not-allowed block w-full rounded-md border-gray-300 shadow-sm focus:border-black focus:ring-black focus:ring-opacity-50 p-2"
                        style="background-color: #f6f6f6;">

                </div>
            </div>

            <!-- Status and Tags -->
            <div class="p-2 grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Status -->
                <!-- <div class="flex items-center bg-[#f6f6f6] rounded-md">
                <select id="status" name="status"
                    class="block w-full px-2 h-12 rounded-md border-gray-300 shadow-sm focus:border-black focus:ring-black focus:ring-opacity-50"
                    style="background-color: #f6f6f6; padding: 0;">
                    <option value="active">Active</option>
                    <option value="inactive">Inactive</option>
                </select>
            </div> -->

                <div class>
                    <select id="category"
                        name="category"
                        formControlName="category"
                        class="block w-full rounded-md border-gray-300 shadow-sm focus:border-black focus:ring-black focus:ring-opacity-50 h-12"
                        style="background-color: #f6f6f6;">
                        <option>Avalible</option>
                        <option>Not Avalible</option>

                    </select>
                </div>

                <!-- Tags -->
                <div>
                    <input type="text" id="tags"
                        name="tags"
                        placeholder="Tags (comma-separated)"
                        formControlName="tag"
                        class="block w-full rounded-md border-gray-300 shadow-sm focus:border-black focus:ring-black focus:ring-opacity-50 h-12"
                        style="background-color: #f6f6f6;">
                </div>
            </div>

        </div>

        <!-- Description and Image Upload -->
        <div class="p-2 grid grid-cols-1 md:grid-cols-2 gap-6">

            <!-- Group of images   -->

            <div formArrayName="skills">
                <h3>specifications</h3>
                <div *ngFor="let skill of skills.controls; let i=index"
                    [formGroupName]="i" class="mb-1">
                    <input formControlName="name"
                        class="w-25"
                        placeholder="Specification Name">
                    <input formControlName="level"
                        class="w-25"
                        placeholder="Specification value">
                    <button type="button" (click)="removeSkill(i)"
                        class="w-25 bg-red-800 hover:bg-[#6b0220] text-white font-bold py-3 px-4 rounded-md">
                        <i class="fa-solid fa-minus"></i></button>
                </div>
                <button type="button"
                    class="bg-black hover:bg-[#6b0220] text-white font-bold py-3 px-4 rounded-md"
                    (click)="addSkill()">Add
                    Specification</button>
            </div>

            <div formArrayName="images">
                <h3>Images</h3>
                <div class="mb-1"
                    *ngFor="let imageCtrl of images.controls; let i=index">
                    <input type="file" (change)="onFileChange($event, i)">
                    <img *ngIf="previewUrls[i]" [src]="previewUrls[i]"
                        alt="Image Preview" width="100">
                    <button type="button"
                        class="bg-black hover:bg-[#6b0220] text-white font-bold py-3 px-4 rounded-md"
                        (click)="removeImage(i)">Remove
                        Image</button>
                </div>
                <button type="button"
                    class="bg-black hover:bg-[#6b0220] text-white font-bold py-3 px-4 rounded-md"
                    (click)="addImage()">Add Image</button>
            </div>

            <!--  -->
        </div>

        <!-- Registration Button -->
        <div class="col-span-full mt-6 p-2">
            <button type="submit"
                class="block w-full bg-black hover:bg-[#6b0220] text-white font-bold py-3 px-4 rounded-md">
                Create The Item
            </button>
        </div>
    </form>
</div>
